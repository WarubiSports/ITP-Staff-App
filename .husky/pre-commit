#!/bin/sh

echo "ğŸ”¨ Running pre-commit checks..."

# Run TypeScript type check (faster than full build)
echo "ğŸ“ Type checking..."
npx tsc --noEmit

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript errors found. Fix them before committing."
  exit 1
fi

# Run linter
echo "ğŸ” Linting..."
npm run lint

if [ $? -ne 0 ]; then
  echo "âŒ Lint errors found. Fix them before committing."
  exit 1
fi

# Run tests
echo "ğŸ§ª Running tests..."
npm test

if [ $? -ne 0 ]; then
  echo "âŒ Tests failed. Fix them before committing."
  exit 1
fi

echo "âœ… Pre-commit checks passed!"
